(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d11d750"],{"0e97":function(t,e,n){},"520e":function(t,e,n){"use strict";var a=n("f813"),s=n.n(a);s.a},"521c":function(t,e,n){"use strict";var a=n("78bb"),s=n.n(a);s.a},"578a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Login"},[n("div",{staticClass:"mine_top"},[n("p",[t._v("登录")]),n(t.comName,{tag:"components"}),n("div",{staticClass:"pass_bot"},[n("p",{on:{click:function(e){t.comName="Code"}}},[t._v("验证码登录")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"warning",on:{click:function(e){return t.warning()}}},[t._v("\n             请输入正确的验证码\n         ")])],1),n("div",{staticClass:"mine_bot"},[n("van-button",{staticClass:"bot_but",staticStyle:{background:"#ff69b4",margin:"3px 0",color:"white"},attrs:{size:"large"},on:{click:function(e){return t.landing()}}},[t._v("登录")]),n("p",[t._v("继续即表示您同意《》和《》")])],1)])},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"password"},[n("van-cell-group",{staticClass:"top_but"},[n("van-field",{staticStyle:{background:"#f5f5f5"},attrs:{placeholder:"请输入手机号码"},on:{change:t.checkphone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("span",{ref:"phone"},[t._v(t._s(t.masphone))]),n("van-cell-group",{staticClass:"top_but"},[n("van-field",{staticStyle:{background:"#F5F5F5"},attrs:{type:"password",placeholder:"请输入密码"}})],1),n("span")],1)},c=[],l={name:"",data:function(){return{masphone:"",phone:""}},methods:{checkphone:function(){var t=/^1[34578]\d{9}$/;""==this.phone?this.masphone="手机号不能为空":t.test(this.phone)?this.masphone="输入正确":this.masphone="请输入正确的手机号"}},components:{},watch:{}},i=l,r=(n("520e"),n("2877")),p=Object(r["a"])(i,o,c,!1,null,"06fecbfa",null),u=p.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"code",staticClass:"Code"},[n("van-cell-group",{staticClass:"top_but"},[n("van-field",{ref:"phone",staticClass:"phone",staticStyle:{background:"#F5F5F5"},attrs:{placeholder:"请输入手机号"},on:{change:t.checkphone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("span",[t._v(t._s(t.masphone))]),n("van-cell-group",{staticClass:"top_but"},[n("van-field",{staticStyle:{background:"#F5F5F5"},attrs:{center:"",clearable:"",placeholder:"请输入短信验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[n("van-button",{staticClass:"getcode",attrs:{slot:"button",size:"small",disabled:!t.flag,type:"primary"},on:{click:function(e){return t.setCode()}},slot:"button"},[t._v("\n            获取验证码"),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}]},[t._v("("+t._s(t.count)+")")])])],1)],1),n("span")],1)},h=[],f={name:"",data:function(){return{masphone:"",phone:"",flag:!0,code:"",res:"",show:!0,count:"",timer:null}},watch:{phone:function(t,e){/^[0-9]*$/.test(t)?" "===this.phone?(this.masphone="手机号不能为空",this.$el.style.color="red",this.flag=!1):myreg.test(this.phone)?(this.masphone="输入正确",this.$el.style.color="green",this.flag=!0):(this.masphone="请输入正确的手机号",this.$el.style.color="red",this.flag=!1):(this.$dialog.alert({message:"请输入正确手机号"}),this.phone="")}},methods:{checkphone:function(){},setCode:function(){var t=this;if(1==this.flag&&""!==this.phone){var e=60;if(1==this.show){var n="guard/vcode";this.$http.post(n,{phone:this.phone,did:"1",appid:"11",op:"register"}).then(function(e){t.res=e})}this.timer||(this.count=e,this.show=!1,this.flag=!1,this.timer=setInterval(function(){t.count>0&&t.count<=e?t.count--:(t.show=!0,t.flag=!0,clearInterval(t.timer),t.timer=null)},1e3))}}},components:{}},v=f,b=(n("521c"),Object(r["a"])(v,d,h,!1,null,"52f0ad06",null)),g=b.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("van-cell-group",{staticClass:"top_but"},[n("van-field",{staticStyle:{background:"#F5F5F5"},attrs:{placeholder:"请输入邮箱号"}})],1),n("span"),n("van-cell-group",{staticClass:"top_but"},[n("van-field",{staticStyle:{background:"#F5F5F5"},attrs:{center:"",clearable:"",placeholder:"请输入短信验证码"}},[n("van-button",{staticStyle:{background:"#ff6347",border:"none"},attrs:{slot:"button",size:"small",type:"primary"},slot:"button"},[t._v("发送验证码")])],1)],1),n("span")],1)},_=[],w={name:"",data:function(){return{}},components:{}},k=w,y=(n("8d00"),Object(r["a"])(k,m,_,!1,null,"070f54e0",null)),C=y.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("van-cell-group",{staticClass:"top_but"},[n("van-field",{staticStyle:{background:"#F5F5F5"},attrs:{placeholder:"请输入手机号"}})],1),n("span"),n("van-cell-group",{staticClass:"top_but"},[n("van-field",{staticStyle:{background:"#F5F5F5"},attrs:{center:"",clearable:"",placeholder:"请输入短信验证码"}},[n("van-button",{staticStyle:{background:"#ff6347",border:"none"},attrs:{slot:"button",size:"small",type:"primary"},slot:"button"},[t._v("发送验证码")])],1)],1),n("span"),n("van-cell-group",{staticClass:"top_but"},[n("van-field",{staticStyle:{background:"#F5F5F5"},attrs:{type:"password",placeholder:"请输入密码"}})],1),n("span"),n("van-cell-group",{staticClass:"top_but"},[n("van-field",{staticStyle:{background:"#F5F5F5"},attrs:{type:"password",placeholder:"请确认密码"}})],1),n("span")],1)},$=[],S={name:"",data:function(){return{}},components:{}},x=S,j=(n("86d1"),Object(r["a"])(x,F,$,!1,null,"0a124cec",null)),E=j.exports,N=n("bc3a"),O=n.n(N),z={components:{Password:u,Code:g,Mailbox:C,Reset:E},name:"Login",data:function(){return{comName:"Code",flag:!1}},methods:{landing:function(){var t=this;if(""===this.$children[0].phone)this.$dialog.alert({title:"提示",message:"请输入手机号码！"});else if(""===this.$children[0].code)this.$dialog.alert({title:"提示",message:"请输入手机验证码！"});else{var e=window.globalData.config.domain+"/user/registerWithCode";O.a.post(e,{cmd:"1",body:{phone:this.$children[0].phone,did:"1",appid:"11",op:"register",sid:this.$children[0].res.sid,code:this.$children[0].code}}).then(function(e){var n=e.data;103===n.code?t.$dialog.alert({message:"验证码输入错误！"}):0===n.code&&(localStorage.setItem("token",n.body.accessToken),localStorage.setItem("phone",n.body.phone),window.globalData.config.accessToken=n.body.accessToken,t.$router.push("/"))})}},warning:function(){this.flag=!1}}},I=z,T=(n("81c8"),Object(r["a"])(I,a,s,!1,null,"73ac1be3",null));e["default"]=T.exports},"78bb":function(t,e,n){},"81c8":function(t,e,n){"use strict";var a=n("fea3"),s=n.n(a);s.a},"86d1":function(t,e,n){"use strict";var a=n("dd61"),s=n.n(a);s.a},"8d00":function(t,e,n){"use strict";var a=n("0e97"),s=n.n(a);s.a},dd61:function(t,e,n){},f813:function(t,e,n){},fea3:function(t,e,n){}}]);
//# sourceMappingURL=chunk-2d11d750.d44f7bc6.js.map